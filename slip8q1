#include <stdio.h>
#include <unistd.h>
#include <fcntl.h>
int main() {
 // Open output.txt for writing. Create if not exist, truncate if exists, permissions 0644
 int fd = open("output.txt", O_WRONLY | O_CREAT | O_TRUNC, 0644);
 if (fd < 0) {
 perror("open");
 return 1;
 }
 // Duplicate fd onto standard output (fd 1)
 if (dup2(fd, STDOUT_FILENO) < 0) {
 perror("dup2");
 close(fd);
 return 1;
 }
 close(fd); // fd no longer needed
 // Now all printf/fputs/puts to stdout will go to output.txt
printf("This line will be written to output.txt\n");
 printf("Redirection works using open() and dup2() system calls.\n");
return 0;
