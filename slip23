Q.1) Write a C program to find whether a given file is present in current directory or not 
[10 Marks ]
#include <stdio.h>
#include <dirent.h>
#include <string.h>
int main(int argc, char *argv[]) {
 if (argc != 2) {
 printf("Usage: %s <filename>\n", argv[0]);
 return 1;
 }
 char *filename = argv[1];
 DIR *dir = opendir(".");
 if (!dir) {
 perror("opendir");
 return 1;
 }
 struct dirent *entry;
 int found = 0;
 while ((entry = readdir(dir)) != NULL) {
 if (strcmp(entry->d_name, filename) == 0) {
 found = 1;
break;
 }
 }
 closedir(dir);
 if (found)
 printf("File '%s' is present in the current directory.\n", filename);
 else
 printf("File '%s' is NOT present in the current directory.\n", filename);
 return 0;
}
OUTPUT::
./a.out a.txt
File 'a.txt' is present in the current directory.
If the file does NOT exist:
File 'missing.txt' is NOT present in the current directory.
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------
Q.2) Write a C program to Identify the type (Directory, character device, Block device, 
Regular file, FIFO or pipe, symbolic link or socket) of given file using stat() system call.
[20 Marks ]
#include <stdio.h>
#include <sys/stat.h>
void print_file_type(mode_t mode) {
 if (S_ISREG(mode))
printf("Regular file\n");
 else if (S_ISDIR(mode))
 printf("Directory\n");
 else if (S_ISCHR(mode))
 printf("Character device\n");
 else if (S_ISBLK(mode))
 printf("Block device\n");
 else if (S_ISFIFO(mode))
 printf("FIFO (named pipe)\n");
 else if (S_ISLNK(mode))
 printf("Symbolic link\n");
 else if (S_ISSOCK(mode))
 printf("Socket\n");
 else
 printf("Unknown type\n");
}
int main(int argc, char *argv[]) {
 if (argc != 2) {
 printf("Usage: %s <filename>\n", argv[0]);
 return 1;
 }
 struct stat st;
 if (stat(argv[1], &st) == -1) {
 perror("stat");
 return 1;
 }
 printf("File: %s\nType: ", argv[1]);
print_file_type(st.st_mode);
 return 0;
}
OuTPUT:
./a.out a.txt
File: a.txt
Type: Regular file
If you check a directory:
./a.out .
File: .
Type: Directory
For a device (e.g. /dev/null):
File: /dev/null
Type: Character device
